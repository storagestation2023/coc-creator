import type { Occupation } from '@/types/occupation'
import type { Era } from '@/types/common'
import { getSkillById } from '@/data/skills'

export interface OccupationCategory {
  id: string
  label: string
}

export const OCCUPATION_CATEGORIES: OccupationCategory[] = [
  { id: 'law_enforcement', label: 'Prawo i porządek' },
  { id: 'military', label: 'Wojsko i służby' },
  { id: 'medical', label: 'Medycyna' },
  { id: 'science_education', label: 'Nauka i edukacja' },
  { id: 'arts_entertainment', label: 'Sztuka i rozrywka' },
  { id: 'crime_underworld', label: 'Przestępczość' },
  { id: 'nature_travel', label: 'Przyroda i podróże' },
  { id: 'trade_services', label: 'Handel i usługi' },
  { id: 'administration', label: 'Administracja i biuro' },
  { id: 'religion_occult', label: 'Religia i okultyzm' },
  { id: 'sports_action', label: 'Sport i czyn' },
  { id: 'technical', label: 'Technika i rzemiosło' },
]

export const OCCUPATIONS: Occupation[] = [
  // === Prawo i porządek ===
  {
    id: 'agent_federalny',
    name: 'Agent federalny',
    description: 'Pracownik rządowej agencji ścigania, tropiciel przestępców federalnych.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'perswazja',
      'prawo',
      'prowadzenie_samochodu',
      'spostrzegawczosc',
      'ukrywanie',
      'walka_wrecz:bijatyka',
      'any',
    ],
    credit_rating: { min: 20, max: 40 },
  },
  {
    id: 'detektyw_agencji',
    name: 'Detektyw agencji',
    description: 'Detektyw pracujący dla prywatnej agencji śledczej, specjalista od inwigilacji.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'korzystanie_z_bibliotek',
      'prawo',
      'psychologia',
      'tropienie',
      'ukrywanie',
      'walka_wrecz:bijatyka',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 20, max: 45 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'detektyw_policyjny',
    name: 'Detektyw policyjny',
    description: 'Doświadczony śledczy policyjny prowadzący dochodzenia kryminalne.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'choice:1:charakteryzacja,sztuka_rzemioslo',
      'nasluchiwanie',
      'prawo',
      'psychologia',
      'spostrzegawczosc',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 20, max: 50 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'lowca_nagrod',
    name: 'Łowca nagród',
    description: 'Samotny tropiciel ścigający zbiegów i poszukiwanych za wyznaczoną nagrodę.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy,walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'choice:1:elektronika,elektryka',
      'prawo',
      'prowadzenie_samochodu',
      'psychologia',
      'tropienie',
      'ukrywanie',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'oficer_policji',
    name: 'Oficer policji',
    description: 'Funkcjonariusz policji patrolujący ulice i utrzymujący porządek publiczny.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'walka_wrecz:bijatyka',
      'pierwsza_pomoc',
      'prawo',
      'psychologia',
      'spostrzegawczosc',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'choice:1:jezdziectwo,prowadzenie_samochodu',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'prawnik',
    name: 'Prawnik',
    description: 'Wykwalifikowany prawnik reprezentujący klientów przed sądem.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'prawo',
      'psychologia',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 30, max: 80 },
  },
  {
    id: 'prywatny_detektyw',
    name: 'Prywatny detektyw',
    description: 'Niezależny śledczy wynajmowany do spraw, których policja nie chce ruszyć.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'charakteryzacja',
      'korzystanie_z_bibliotek',
      'prawo',
      'psychologia',
      'spostrzegawczosc',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'sedzia',
    name: 'Sędzia',
    description: 'Przedstawiciel wymiaru sprawiedliwości orzekający w sprawach sądowych.',
    category: 'law_enforcement',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'nasluchiwanie',
      'perswazja',
      'prawo',
      'psychologia',
      'zastraszanie',
    ],
    credit_rating: { min: 50, max: 80 },
  },

  // === Wojsko i służby ===
  {
    id: 'oficer_wojskowy',
    name: 'Oficer wojskowy',
    description: 'Oficer dowodzący żołnierzami, strateg i taktyk na polu bitwy.',
    category: 'military',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'ksiegowosc',
      'nawigacja',
      'pierwsza_pomoc',
      'psychologia',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 20, max: 70 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'wojskowy_zolnierz',
    name: 'Wojskowy/Żołnierz',
    description: 'Szeregowy żołnierz wyszkolony w walce i dyscyplinie wojskowej.',
    category: 'military',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'choice:1:plywanie,wspinaczka',
      'sztuka_przetrwania',
      'ukrywanie',
      'unik',
      'choice:1:walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'choice:2:jezyk_obcy,mechanika,pierwsza_pomoc',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'strazak',
    name: 'Strażak',
    description: 'Odważny strażak gaszący pożary i ratujący ludzi z niebezpieczeństw.',
    category: 'military',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'mechanika',
      'obsluga_ciezkiego_sprzetu',
      'pierwsza_pomoc',
      'prowadzenie_samochodu',
      'rzucanie',
      'skakanie',
      'unik',
      'wspinaczka',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'szpieg',
    name: 'Szpieg',
    description: 'Agent wywiadu infiltrujący wrogie organizacje i zbierający informacje.',
    category: 'military',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'choice:1:charakteryzacja,sztuka_rzemioslo',
      'jezyk_obcy',
      'nasluchiwanie',
      'psychologia',
      'ukrywanie',
      'zreczne_palce',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 20, max: 60 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub DEX) × 2',
  },

  // === Medycyna ===
  {
    id: 'farmaceuta',
    name: 'Farmaceuta',
    description: 'Specjalista od leków i substancji chemicznych, prowadzący aptekę.',
    category: 'medical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'jezyk_obcy:Łacina',
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'nauka:Chemia',
      'nauka:Farmacja',
      'pierwsza_pomoc',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 35, max: 75 },
  },
  {
    id: 'lekarz',
    name: 'Lekarz',
    description: 'Wykwalifikowany medyk diagnozujący choroby i leczący pacjentów.',
    category: 'medical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'jezyk_obcy:Łacina',
      'medycyna',
      'nauka:Biologia',
      'nauka:Farmacja',
      'pierwsza_pomoc',
      'psychologia',
      'any',
      'any',
    ],
    credit_rating: { min: 30, max: 80 },
  },
  {
    id: 'pielegniarka',
    name: 'Pielęgniarka',
    description: 'Opiekunka medyczna zajmująca się chorymi pod okiem lekarza.',
    category: 'medical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'medycyna',
      'nasluchiwanie',
      'nauka:Biologia',
      'nauka:Chemia',
      'pierwsza_pomoc',
      'psychologia',
      'spostrzegawczosc',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'psychiatra',
    name: 'Psychiatra',
    description: 'Lekarz specjalizujący się w chorobach umysłowych i zaburzeniach psychicznych.',
    category: 'medical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'jezyk_obcy',
      'medycyna',
      'nasluchiwanie',
      'nauka:Biologia',
      'nauka:Chemia',
      'perswazja',
      'psychoanaliza',
      'psychologia',
    ],
    credit_rating: { min: 30, max: 80 },
  },
  {
    id: 'sanitariusz_w_szpitalu_psychiatrycznym',
    name: 'Sanitariusz w szpitalu psychiatrycznym',
    description: 'Pracownik szpitala psychiatrycznego pilnujący pacjentów z zaburzeniami.',
    category: 'medical',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'nasluchiwanie',
      'pierwsza_pomoc',
      'psychologia',
      'ukrywanie',
      'unik',
      'walka_wrecz:bijatyka',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 8, max: 20 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'salowy',
    name: 'Salowy',
    description: 'Pracownik szpitala odpowiedzialny za transport pacjentów i utrzymanie porządku.',
    category: 'medical',
    skill_formula: { characteristics: ['EDU', 'STR'], multiplier: 2 },
    skills: [
      'elektryka',
      'mechanika',
      'nasluchiwanie',
      'pierwsza_pomoc',
      'psychologia',
      'ukrywanie',
      'walka_wrecz:bijatyka',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 6, max: 15 },
  },

  // === Nauka i edukacja ===
  {
    id: 'antykwariusz',
    name: 'Antykwariusz',
    description: 'Znawca antyków i staroci, handlujący cennymi przedmiotami z przeszłości.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_obcy',
      'korzystanie_z_bibliotek',
      'spostrzegawczosc',
      'sztuka_rzemioslo',
      'wycena',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 30, max: 70 },
  },
  {
    id: 'archeolog',
    name: 'Archeolog',
    description: 'Badacz przeszłości odkrywający tajemnice starożytnych cywilizacji.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'archeologia',
      'historia',
      'jezyk_obcy',
      'korzystanie_z_bibliotek',
      'mechanika',
      'choice:1:nauka,nawigacja',
      'spostrzegawczosc',
      'wycena',
    ],
    credit_rating: { min: 10, max: 40 },
  },
  {
    id: 'architekt',
    name: 'Architekt',
    description: 'Projektant budynków łączący wiedzę inżynierską z zmysłem estetycznym.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'choice:1:korzystanie_z_bibliotek,korzystanie_z_komputerow',
      'jezyk_ojczysty',
      'ksiegowosc',
      'nauka:Matematyka',
      'perswazja',
      'prawo',
      'psychologia',
      'sztuka_rzemioslo:Rysunek Techniczny',
    ],
    credit_rating: { min: 30, max: 70 },
  },
  {
    id: 'bibliotekarz',
    name: 'Bibliotekarz',
    description: 'Strażnik wiedzy zgromadzonej w księgozbiorach, specjalista od źródeł pisanych.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'jezyk_obcy',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'any',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 35 },
  },
  {
    id: 'ksiegarz',
    name: 'Księgarz',
    description: 'Pasjonat literatury prowadzący księgarnię i znający rzadkie wydania.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_obcy',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'prowadzenie_samochodu',
      'wycena',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 20, max: 40 },
  },
  {
    id: 'kustosz',
    name: 'Kustosz',
    description: 'Opiekun zbiorów muzealnych i ekspert od konserwacji zabytków.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'archeologia',
      'historia',
      'jezyk_obcy',
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'okultyzm',
      'spostrzegawczosc',
      'wycena',
    ],
    credit_rating: { min: 10, max: 30 },
  },
  {
    id: 'laborant',
    name: 'Laborant',
    description: 'Asystent laboratoryjny wykonujący eksperymenty i analizy naukowe.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'elektryka',
      'jezyk_obcy',
      'choice:1:korzystanie_z_komputerow,korzystanie_z_bibliotek',
      'nauka:Chemia',
      'nauka',
      'nauka',
      'spostrzegawczosc',
      'any',
    ],
    credit_rating: { min: 10, max: 30 },
    suggested_skills_note:
      'Nauka (Chemia) wymagana. Wybierz 2 dodatkowe specjalizacje z zakresu Nauki.',
  },
  {
    id: 'naukowiec',
    name: 'Naukowiec',
    description: 'Uczony prowadzący badania i poszerzający granice ludzkiej wiedzy.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'jezyk_obcy',
      'jezyk_ojczysty',
      'choice:1:korzystanie_z_komputerow,korzystanie_z_bibliotek',
      'nauka',
      'nauka',
      'nauka',
      'spostrzegawczosc',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 9, max: 50 },
    suggested_skills_note:
      'Wybierz 3 specjalizacje z zakresu Nauki.',
  },
  {
    id: 'parapsycholog',
    name: 'Parapsycholog',
    description: 'Badacz zjawisk paranormalnych łączący naukę z okultyzmem.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'antropologia',
      'historia',
      'jezyk_obcy',
      'korzystanie_z_bibliotek',
      'okultyzm',
      'psychologia',
      'sztuka_rzemioslo:Fotografia',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'pracownik_naukowy',
    name: 'Pracownik naukowy',
    description: 'Asystent na uczelni łączący badania z pracą dydaktyczną.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_obcy',
      'korzystanie_z_bibliotek',
      'spostrzegawczosc',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'profesor',
    name: 'Profesor',
    description: 'Autorytet akademicki wykładający na uczelni i prowadzący przełomowe badania.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'jezyk_obcy',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'psychologia',
      'any',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 20, max: 70 },
  },
  {
    id: 'student_stazysta',
    name: 'Student/Stażysta',
    description: 'Młoda osoba na początku kariery, chłonąca wiedzę z wielu dziedzin.',
    category: 'science_education',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'choice:1:jezyk_obcy,jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'nasluchiwanie',
      'any',
      'any',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 5, max: 10 },
    suggested_skills_note: 'Wybierz 5 dowolnych umiejętności.',
  },

  // === Sztuka i rozrywka ===
  {
    id: 'aktor',
    name: 'Aktor',
    description: 'Artysta sceniczny wcielający się w różne role na scenie lub przed kamerą.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'charakteryzacja',
      'historia',
      'psychologia',
      'sztuka_rzemioslo:Aktorstwo',
      'choice:1:walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 40 },
  },
  {
    id: 'artysta',
    name: 'Artysta',
    description: 'Twórca dzieł sztuki wyrażający swoją wizję świata pędzlem lub dłutem.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:historia,wiedza_o_naturze',
      'jezyk_obcy',
      'psychologia',
      'spostrzegawczosc',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 50 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub POW) × 2',
  },
  {
    id: 'artysta_estradowy',
    name: 'Artysta estradowy',
    description: 'Wykonawca rozrywkowy zabawiający publiczność na scenie.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'charakteryzacja',
      'nasluchiwanie',
      'psychologia',
      'sztuka_rzemioslo',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 70 },
  },
  {
    id: 'dziennikarz',
    name: 'Dziennikarz',
    description: 'Reportażysta tropiący sensacje i piszący artykuły do prasy.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'psychologia',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'dziennikarz_sledczy',
    name: 'Dziennikarz śledczy',
    description: 'Dziennikarz specjalizujący się w dochodzeniach i ujawnianiu afer.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'psychologia',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'reporter',
    name: 'Reporter',
    description: 'Dziennikarz terenowy zbierający materiały i relacjonujący wydarzenia na żywo.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_ojczysty',
      'nasluchiwanie',
      'psychologia',
      'spostrzegawczosc',
      'sztuka_rzemioslo:Aktorstwo',
      'ukrywanie',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'fotograf',
    name: 'Fotograf',
    description: 'Artysta uchwytujący chwile na kliszy, dokumentalista rzeczywistości.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'nauka:Chemia',
      'psychologia',
      'spostrzegawczosc',
      'sztuka_rzemioslo:Fotografia',
      'ukrywanie',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'korespondent_zagraniczny',
    name: 'Korespondent zagraniczny',
    description: 'Dziennikarz relacjonujący wydarzenia z odległych zakątków świata.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_obcy',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'psychologia',
      'spostrzegawczosc',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 10, max: 40 },
  },
  {
    id: 'muzyk',
    name: 'Muzyk',
    description: 'Instrumentalista lub wokalista poruszający serca swoją muzyką.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'nasluchiwanie',
      'psychologia',
      'sztuka_rzemioslo:Gra na Instrumencie',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub DEX) × 2',
  },
  {
    id: 'pisarz',
    name: 'Pisarz',
    description: 'Autor literacki tworzący powieści, opowiadania lub scenariusze.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_obcy',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'choice:1:okultyzm,wiedza_o_naturze',
      'psychologia',
      'sztuka_rzemioslo:Literatura',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'redaktor',
    name: 'Redaktor',
    description: 'Redaktor prasowy czuwający nad jakością publikowanych tekstów.',
    category: 'arts_entertainment',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_ojczysty',
      'ksiegowosc',
      'psychologia',
      'spostrzegawczosc',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 10, max: 30 },
  },

  // === Przestępczość ===
  {
    id: 'fanatyk',
    name: 'Fanatyk',
    description: 'Zagorzały wyznawca idei gotowy na wszystko dla swoich przekonań.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'historia',
      'psychologia',
      'ukrywanie',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 0, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub POW) × 2',
  },
  {
    id: 'gangster',
    name: 'Gangster',
    description: 'Członek zorganizowanej grupy przestępczej, bezwzględny i niebezpieczny.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'prowadzenie_samochodu',
      'psychologia',
      'choice:1:walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 60 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'hazardzista',
    name: 'Hazardzista',
    description: 'Gracz hazardowy żyjący z ryzyka, kart i szczęścia przy ruletce.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'nasluchiwanie',
      'psychologia',
      'spostrzegawczosc',
      'sztuka_rzemioslo:Aktorstwo',
      'zreczne_palce',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 8, max: 50 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub DEX) × 2',
  },
  {
    id: 'prostytutka',
    name: 'Prostytutka',
    description: 'Osoba zarabiająca na życie sprzedażą usług intymnych.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'psychologia',
      'sztuka_rzemioslo',
      'ukrywanie',
      'unik',
      'zreczne_palce',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 5, max: 50 },
  },
  {
    id: 'przestepca',
    name: 'Przestępca',
    description: 'Złodziej, włamywacz lub oszust żyjący z przestępczego procederu.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy,walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'choice:1:charakteryzacja,sztuka_rzemioslo',
      'choice:1:mechanika,slusarstwo',
      'psychologia',
      'spostrzegawczosc',
      'ukrywanie',
      'wycena',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 5, max: 65 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub APP) × 2',
  },
  {
    id: 'kieszonkowiec',
    name: 'Kieszonkowiec',
    description: 'Złodziejaszek kradnący portfele i kosztowności na zatłoczonych ulicach.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'zreczne_palce',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'spostrzegawczosc',
      'ukrywanie',
      'nasluchiwanie',
      'psychologia',
      'any',
      'any',
    ],
    credit_rating: { min: 5, max: 25 },
  },
  {
    id: 'szmugler',
    name: 'Szmugler',
    description: 'Przemytnik przewożący towary przez granicę z naruszeniem prawa.',
    category: 'crime_underworld',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'nasluchiwanie',
      'nawigacja',
      'choice:1:prowadzenie_samochodu,pilotowanie',
      'psychologia',
      'spostrzegawczosc',
      'zreczne_palce',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 20, max: 60 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub DEX) × 2',
  },

  // === Przyroda i podróże ===
  {
    id: 'czlowiek_plemienny',
    name: 'Człowiek plemienny',
    description: 'Przedstawiciel ludu żyjącego blisko natury, znający tradycyjne rzemiosła.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'STR'], multiplier: 2 },
    skills: [
      'nasluchiwanie',
      'okultyzm',
      'plywanie',
      'spostrzegawczosc',
      'sztuka_przetrwania',
      'choice:1:rzucanie,walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'wiedza_o_naturze',
      'wspinaczka',
    ],
    credit_rating: { min: 0, max: 15 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (STR lub DEX) × 2',
  },
  {
    id: 'farmer',
    name: 'Farmer',
    description: 'Właściciel gospodarstwa rolnego uprawiający ziemię i hodujący zwierzęta.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'mechanika',
      'obsluga_ciezkiego_sprzetu',
      'prowadzenie_samochodu',
      'sztuka_rzemioslo:Rolnictwo i Hodowla',
      'tropienie',
      'wiedza_o_naturze',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'kierowca',
    name: 'Kierowca',
    description: 'Zawodowy kierowca znający się na pojazdach i trasach.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'mechanika',
      'nasluchiwanie',
      'nawigacja',
      'prowadzenie_samochodu',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 20 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'kowboj',
    name: 'Kowboj',
    description: 'Jeździec z Dzikiego Zachodu obeznany z bronią i życiem na ranczu.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy,walka_wrecz:bijatyka,walka_wrecz:bicz,walka_wrecz:bron_obuchowa,walka_wrecz:garota,walka_wrecz:miecz,walka_wrecz:topor,walka_wrecz:wlocznia',
      'jezdziectwo',
      'choice:1:pierwsza_pomoc,wiedza_o_naturze',
      'rzucanie',
      'skakanie',
      'sztuka_przetrwania',
      'tropienie',
      'unik',
    ],
    credit_rating: { min: 9, max: 20 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'lowca_grubego_zwierza',
    name: 'Łowca grubego zwierza',
    description: 'Myśliwy polujący na wielką zwierzynę w egzotycznych krainach.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'choice:1:jezyk_obcy,sztuka_przetrwania',
      'choice:1:nasluchiwanie,spostrzegawczosc',
      'nauka:Biologia,Botanika,Zoologia',
      'nawigacja',
      'tropienie',
      'ukrywanie',
      'wiedza_o_naturze',
    ],
    credit_rating: { min: 20, max: 50 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'marynarz',
    name: 'Marynarz',
    description: 'Żeglarz pływający po morzach i oceanach, obeznany z życiem na statku.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'mechanika',
      'nawigacja',
      'pierwsza_pomoc',
      'pilotowanie:Łódź',
      'plywanie',
      'spostrzegawczosc',
      'wiedza_o_naturze',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 20, max: 40 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'nurek',
    name: 'Nurek',
    description: 'Specjalista od prac podwodnych i eksploracji głębin morskich.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'mechanika',
      'nauka:Biologia',
      'nurkowanie',
      'pierwsza_pomoc',
      'pilotowanie:Łódź',
      'plywanie',
      'spostrzegawczosc',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'odkrywca',
    name: 'Odkrywca',
    description: 'Śmiały podróżnik eksplorujący nieznane ziemie w poszukiwaniu przygód.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'historia',
      'jezyk_obcy',
      'nawigacja',
      'choice:1:plywanie,wspinaczka',
      'skakanie',
      'sztuka_przetrwania',
      'wiedza_o_naturze',
    ],
    credit_rating: { min: 55, max: 80 },
    era: ['classic_1920s', 'gaslight'],
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP, DEX lub STR) × 2',
  },
  {
    id: 'pilot',
    name: 'Pilot',
    description: 'Lotnik prowadzący samolot przez niebo, znający tajniki aeronautyki.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'elektryka',
      'mechanika',
      'nauka:Astronomia',
      'nawigacja',
      'obsluga_ciezkiego_sprzetu',
      'pilotowanie:Samolot',
      'any',
      'any',
    ],
    credit_rating: { min: 20, max: 70 },
  },
  {
    id: 'poszukiwacz',
    name: 'Poszukiwacz',
    description: 'Poszukiwacz skarbów i złóż penetrujący dzikie tereny.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'historia',
      'mechanika',
      'nawigacja',
      'nauka:Geologia',
      'spostrzegawczosc',
      'sztuka_przetrwania',
      'wiedza_o_naturze',
      'wspinaczka',
    ],
    credit_rating: { min: 0, max: 10 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'traper',
    name: 'Traper',
    description: 'Łowca futer żyjący na odludziu, znający ścieżki dzikiej przyrody.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'nasluchiwanie',
      'nawigacja',
      'pierwsza_pomoc',
      'spostrzegawczosc',
      'sztuka_przetrwania',
      'tropienie',
      'wiedza_o_naturze',
    ],
    credit_rating: { min: 5, max: 20 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'wspinacz_wysokogorski',
    name: 'Wspinacz wysokogórski',
    description: 'Alpinista zdobywający szczyty górskie w ekstremalnych warunkach.',
    category: 'nature_travel',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'wspinaczka',
      'skakanie',
      'nawigacja',
      'spostrzegawczosc',
      'tropienie',
      'pierwsza_pomoc',
      'sztuka_przetrwania:Góry',
      'any',
    ],
    credit_rating: { min: 9, max: 40 },
  },

  // === Handel i usługi ===
  {
    id: 'marszand',
    name: 'Marszand',
    description: 'Handlarz dziełami sztuki, pośrednik między artystami a kolekcjonerami.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'nawigacja',
      'prowadzenie_samochodu',
      'wycena',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 30, max: 50 },
  },
  {
    id: 'barman',
    name: 'Barman',
    description: 'Pracownik baru serwujący drinki i wysłuchujący historii klientów.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'walka_wrecz:bijatyka',
      'ksiegowosc',
      'nasluchiwanie',
      'psychologia',
      'spostrzegawczosc',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 8, max: 25 },
  },
  {
    id: 'bogaty_hobbysta',
    name: 'Bogaty hobbysta',
    description: 'Zamożny dżentelmen poświęcający czas i majątek swoim pasjom.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'choice:1:bron_palna:krotka,bron_palna:karabin_strzelba,bron_palna:pistolet_maszynowy',
      'jezdziectwo',
      'jezyk_obcy',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
      'any',
    ],
    credit_rating: { min: 50, max: 99 },
    suggested_skills_note:
      'Dowolna druga cecha do formuły. Wybierz 3 dowolne umiejętności.',
  },
  {
    id: 'dzentelmen_dama',
    name: 'Dżentelmen/Dama',
    description: 'Osoba z wyższych sfer obracająca się w kręgach arystokracji.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'historia',
      'jezdziectwo',
      'jezyk_obcy',
      'bron_palna:karabin_strzelba',
      'nawigacja',
      'sztuka_rzemioslo',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 40, max: 90 },
  },
  {
    id: 'kamerdyner_lokaj_pokojowka',
    name: 'Kamerdyner/Lokaj/Pokojówka',
    description: 'Służba domowa dbająca o dom i komfort zamożnych pracodawców.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'gadanina',
      'nasluchiwanie',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'wycena',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 40 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub APP) × 2',
  },
  {
    id: 'kelner',
    name: 'Kelner',
    description: 'Pracownik restauracji obsługujący gości z klasą i dyskrecją.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'nasluchiwanie',
      'psychologia',
      'sztuka_rzemioslo',
      'unik',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 20 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub ZRĘ) × 2',
  },
  {
    id: 'komiwojazer',
    name: 'Komiwojażer',
    description: 'Wędrowny handlowiec sprzedający towary od drzwi do drzwi.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'nasluchiwanie',
      'prowadzenie_samochodu',
      'psychologia',
      'choice:1:ukrywanie,zreczne_palce',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 40 },
  },
  {
    id: 'opiekun_zwierzat_w_zoo',
    name: 'Opiekun zwierząt w zoo',
    description: 'Pracownik ogrodu zoologicznego opiekujący się egzotycznymi zwierzętami.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'tresura_zwierzat',
      'wiedza_o_naturze',
      'nauka:Farmacja',
      'nauka:Zoologia',
      'pierwsza_pomoc',
      'spostrzegawczosc',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 20 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub POW) × 2.',
  },
  {
    id: 'przedsiebiorca_pogrzebowy',
    name: 'Przedsiębiorca pogrzebowy',
    description: 'Organizator ceremonii pogrzebowych, obcujący ze śmiercią na co dzień.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'ksiegowosc',
      'historia',
      'prawo',
      'psychologia',
      'spostrzegawczosc',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'prowadzenie_samochodu',
      'any',
    ],
    credit_rating: { min: 20, max: 40 },
  },
  {
    id: 'sklepikarz',
    name: 'Sklepikarz',
    description: 'Właściciel sklepu prowadzący handel detaliczny w swojej okolicy.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'elektryka',
      'ksiegowosc',
      'mechanika',
      'nasluchiwanie',
      'psychologia',
      'spostrzegawczosc',
      'choice:2:perswazja,gadanina,urok_osobisty,zastraszanie',
    ],
    credit_rating: { min: 20, max: 40 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub ZRĘ) × 2',
  },
  {
    id: 'tramp',
    name: 'Tramp',
    description: 'Bezdomny wędrowiec żyjący z dnia na dzień na marginesie społeczeństwa.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'gadanina',
      'nasluchiwanie',
      'nawigacja',
      'walka_wrecz:bijatyka',
      'ukrywanie',
      'spostrzegawczosc',
      'sztuka_przetrwania',
      'any',
    ],
    credit_rating: { min: 0, max: 5 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub DEX) × 2',
  },
  {
    id: 'treser',
    name: 'Treser',
    description: 'Specjalista od tresury zwierząt, pracujący w cyrku lub na arenie.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'tresura_zwierzat',
      'skakanie',
      'jezdziectwo',
      'nasluchiwanie',
      'nauka:Zoologia',
      'psychologia',
      'spostrzegawczosc',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub POW) × 2',
  },
  {
    id: 'wloczega',
    name: 'Włóczęga',
    description: 'Wieczny tułacz bez stałego adresu, znający uliczne sztuczki przetrwania.',
    category: 'trade_services',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'gadanina',
      'nasluchiwanie',
      'nawigacja',
      'walka_wrecz:bijatyka',
      'ukrywanie',
      'spostrzegawczosc',
      'sztuka_przetrwania',
      'any',
    ],
    credit_rating: { min: 0, max: 5 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (APP lub DEX) × 2',
  },

  // === Administracja i biuro ===
  {
    id: 'dzialacz_zwiazkowy',
    name: 'Działacz związkowy',
    description: 'Aktywista walczący o prawa pracownicze i sprawiedliwość społeczną.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'ksiegowosc',
      'prawo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'perswazja',
      'psychologia',
      'zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 5, max: 30 },
  },
  {
    id: 'funkcjonariusz_publiczny',
    name: 'Funkcjonariusz publiczny',
    description: 'Urzędnik państwowy pracujący w administracji rządowej lub samorządowej.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'ksiegowosc',
      'jezyk_ojczysty',
      'prawo',
      'perswazja',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 15, max: 40 },
  },
  {
    id: 'ksiegowy',
    name: 'Księgowy',
    description: 'Specjalista od finansów prowadzący rachunki i rozliczenia.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'ksiegowosc',
      'prawo',
      'korzystanie_z_bibliotek',
      'perswazja',
      'spostrzegawczosc',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 30, max: 70 },
  },
  {
    id: 'pracownik_umyslowy',
    name: 'Pracownik umysłowy',
    description: 'Biurowy pracownik administracyjny zajmujący się dokumentacją.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'ksiegowosc',
      'nasluchiwanie',
      'prawo',
      'choice:1:jezyk_ojczysty,jezyk_obcy',
      'choice:1:korzystanie_z_komputerow,korzystanie_z_bibliotek',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 20 },
  },
  {
    id: 'sekretarz',
    name: 'Sekretarz/Sekretarka',
    description: 'Prawa ręka szefa — organizuje spotkania, korespondencję i biurowy porządek.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'ksiegowosc',
      'jezyk_ojczysty',
      'korzystanie_z_bibliotek',
      'perswazja',
      'psychologia',
      'sztuka_rzemioslo:Maszynopisanie,Stenografia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 15 },
  },
  {
    id: 'polityk',
    name: 'Polityk',
    description: 'Działacz polityczny walczący o władzę i realizujący swoje wizje.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'gadanina',
      'historia',
      'jezyk_ojczysty',
      'nasluchiwanie',
      'perswazja',
      'psychologia',
      'urok_osobisty',
      'zastraszanie',
    ],
    credit_rating: { min: 50, max: 90 },
  },
  {
    id: 'dyplomata',
    name: 'Dyplomata',
    description: 'Przedstawiciel rządu prowadzący negocjacje z obcymi mocarstwami.',
    category: 'administration',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'urok_osobisty',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'jezyk_obcy',
      'historia',
      'prawo',
      'psychologia',
      'jezyk_ojczysty',
      'any',
    ],
    credit_rating: { min: 40, max: 90 },
  },

  // === Religia i okultyzm ===
  {
    id: 'deprogramator',
    name: 'Deprogramator',
    description: 'Specjalista od uwalniania ludzi spod wpływu sekt i kultów.',
    category: 'religion_occult',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'sztuka_rzemioslo',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'korzystanie_z_bibliotek',
      'prowadzenie_samochodu',
      'spostrzegawczosc',
      'perswazja',
      'any',
    ],
    credit_rating: { min: 20, max: 50 },
    era: ['modern'],
  },
  {
    id: 'duchowny',
    name: 'Duchowny',
    description: 'Kapłan lub pastor duszpastersko opiekujący się wiernymi.',
    category: 'religion_occult',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'historia',
      'jezyk_obcy',
      'korzystanie_z_bibliotek',
      'ksiegowosc',
      'nasluchiwanie',
      'psychologia',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 60 },
  },
  {
    id: 'misjonarz',
    name: 'Misjonarz',
    description: 'Duchowny niosący wiarę do odległych zakątków świata.',
    category: 'religion_occult',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'mechanika',
      'medycyna',
      'pierwsza_pomoc',
      'sztuka_rzemioslo',
      'wiedza_o_naturze',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 0, max: 30 },
  },
  {
    id: 'okultysta',
    name: 'Okultysta',
    description: 'Znawca tajemnych nauk badający nadprzyrodzone siły i rytuały.',
    category: 'religion_occult',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'okultyzm',
      'historia',
      'korzystanie_z_bibliotek',
      'jezyk_obcy',
      'wiedza_tajemna',
      'nauka',
      'spostrzegawczosc',
      'any',
    ],
    credit_rating: { min: 9, max: 65 },
  },
  {
    id: 'przywodca_kultu',
    name: 'Przywódca kultu',
    description: 'Charyzmatyczny lider sekty skupiający wokół siebie wyznawców.',
    category: 'religion_occult',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'okultyzm',
      'perswazja',
      'psychologia',
      'urok_osobisty',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
      'any',
    ],
    credit_rating: { min: 30, max: 60 },
  },
  {
    id: 'medium',
    name: 'Medium / Jasnowidz',
    description: 'Osoba twierdzaca, że potrafi kontaktować się z duchami lub przewidywać przyszłość.',
    category: 'religion_occult',
    skill_formula: { characteristics: ['EDU', 'APP'], multiplier: 2 },
    skills: [
      'okultyzm',
      'sztuka_rzemioslo',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'psychologia',
      'historia',
      'ukrywanie',
      'nasluchiwanie',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },

  // === Sport i czyn ===
  {
    id: 'akrobata',
    name: 'Akrobata',
    description: 'Zwinny gimnastyk wykonujący akrobacje cyrkowe i kaskaderskie.',
    category: 'sports_action',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'skakanie',
      'unik',
      'wspinaczka',
      'spostrzegawczosc',
      'rzucanie',
      'sztuka_rzemioslo',
      'walka_wrecz:bijatyka',
      'any',
    ],
    credit_rating: { min: 9, max: 20 },
  },
  {
    id: 'bokser_zapasnik',
    name: 'Bokser/Zapaśnik',
    description: 'Zawodowy fighter walczący na ringu o sławę i pieniądze.',
    category: 'sports_action',
    skill_formula: { characteristics: ['EDU', 'STR'], multiplier: 2 },
    skills: [
      'walka_wrecz:bijatyka',
      'unik',
      'zastraszanie',
      'skakanie',
      'spostrzegawczosc',
      'psychologia',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 60 },
  },
  {
    id: 'kaskader',
    name: 'Kaskader',
    description: 'Ryzykant wykonujący niebezpieczne wyczyny przed kamerą lub na scenie.',
    category: 'sports_action',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'walka_wrecz:bijatyka',
      'unik',
      'skakanie',
      'wspinaczka',
      'prowadzenie_samochodu',
      'spostrzegawczosc',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 30 },
  },
  {
    id: 'sportowiec',
    name: 'Sportowiec',
    description: 'Profesjonalny atleta rywalizujący w dyscyplinach sportowych.',
    category: 'sports_action',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'walka_wrecz:bijatyka',
      'jezdziectwo',
      'plywanie',
      'rzucanie',
      'skakanie',
      'wspinaczka',
      'choice:1:perswazja,gadanina,urok_osobisty,zastraszanie',
      'any',
    ],
    credit_rating: { min: 9, max: 70 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },

  // === Technika i rzemiosło ===
  {
    id: 'inzynier',
    name: 'Inżynier',
    description: 'Specjalista techniczny projektujący maszyny i konstrukcje.',
    category: 'technical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'elektryka',
      'korzystanie_z_bibliotek',
      'mechanika',
      'nauka:Fizyka',
      'nauka:Inżynieria',
      'obsluga_ciezkiego_sprzetu',
      'sztuka_rzemioslo:Rysunek Techniczny',
      'any',
    ],
    credit_rating: { min: 30, max: 60 },
  },
  {
    id: 'mechanik',
    name: 'Mechanik',
    description: 'Fachowiec naprawiający maszyny i pojazdy mechaniczne.',
    category: 'technical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'elektryka',
      'mechanika',
      'obsluga_ciezkiego_sprzetu',
      'prowadzenie_samochodu',
      'sztuka_rzemioslo',
      'wspinaczka',
      'any',
      'any',
    ],
    credit_rating: { min: 9, max: 40 },
  },
  {
    id: 'pracownik_fizyczny',
    name: 'Pracownik fizyczny',
    description: 'Robotnik wykonujący ciężką pracę manualną na budowie lub w fabryce.',
    category: 'technical',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'prowadzenie_samochodu',
      'walka_wrecz:bijatyka',
      'mechanika',
      'obsluga_ciezkiego_sprzetu',
      'spostrzegawczosc',
      'wspinaczka',
      'any',
      'any',
    ],
    credit_rating: { min: 5, max: 15 },
    suggested_skills_note:
      'Formuła: EDU×2 + najlepsza z (DEX lub STR) × 2',
  },
  {
    id: 'programista_haker',
    name: 'Programista/Haker',
    description: 'Ekspert komputerowy piszący programy lub łamiący zabezpieczenia systemów.',
    category: 'technical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'korzystanie_z_komputerow',
      'elektryka',
      'elektronika',
      'korzystanie_z_bibliotek',
      'nauka:Matematyka',
      'spostrzegawczosc',
      'any',
      'any',
    ],
    credit_rating: { min: 10, max: 70 },
    era: ['modern'],
  },
  {
    id: 'projektant',
    name: 'Projektant',
    description: 'Twórca projektów technicznych łączący kreatywność z precyzją.',
    category: 'technical',
    skill_formula: { characteristics: ['EDU'], multiplier: 4 },
    skills: [
      'sztuka_rzemioslo',
      'nauka',
      'mechanika',
      'korzystanie_z_bibliotek',
      'spostrzegawczosc',
      'korzystanie_z_komputerow',
      'any',
      'any',
    ],
    credit_rating: { min: 20, max: 60 },
  },
  {
    id: 'rekodzielnik',
    name: 'Rękodzielnik',
    description: 'Rzemieślnik tworzący przedmioty ręcznie z tradycyjnych materiałów.',
    category: 'technical',
    skill_formula: { characteristics: ['EDU', 'DEX'], multiplier: 2 },
    skills: [
      'ksiegowosc',
      'mechanika',
      'spostrzegawczosc',
      'sztuka_rzemioslo',
      'sztuka_rzemioslo',
      'wiedza_o_naturze',
      'any',
      'any',
    ],
    credit_rating: { min: 10, max: 40 },
    suggested_skills_note:
      'Wybierz 2 specjalizacje z zakresu Sztuki/Rzemiosła.',
  },
]

export function getOccupationById(id: string): Occupation | undefined {
  return OCCUPATIONS.find((occupation) => occupation.id === id)
}

export function getOccupationsForEra(era: Era): Occupation[] {
  return OCCUPATIONS.filter(
    (occupation) => !occupation.era || occupation.era.includes(era),
  )
}

/**
 * Parse a skill slot marker.
 * Supported formats:
 * - 'skill_id' — fixed skill (no specialization)
 * - 'skill_id' where skill has specializations — open specialization choice
 * - 'skill_id:Spec' — locked specialization
 * - 'skill_id:Spec1,Spec2,...' — choose one specialization from list
 * - 'any' — choose any skill
 * - 'any_academic' — choose any academic skill
 * - 'choice:N:skill1,skill2,...' — choose N from specific skills
 */
export interface ChoiceSlot {
  count: number
  options: string[]
}

export type ParsedSkillSlot =
  | { type: 'fixed'; id: string }
  | { type: 'specialized'; id: string; locked: string | null; options: string[] | null }
  | { type: 'any' }
  | { type: 'any_academic' }
  | { type: 'choice'; choice: ChoiceSlot }

export function parseSkillSlot(sid: string): ParsedSkillSlot {
  if (sid === 'any') return { type: 'any' }
  if (sid === 'any_academic') return { type: 'any_academic' }
  if (sid.startsWith('choice:')) {
    // Parse 'choice:N:opt1,opt2,...' — options may contain colons (composite keys like bron_palna:krotka)
    const firstColon = sid.indexOf(':')
    const secondColon = sid.indexOf(':', firstColon + 1)
    const count = parseInt(sid.substring(firstColon + 1, secondColon), 10) || 1
    const options = sid.substring(secondColon + 1).split(',')
    return { type: 'choice', choice: { count, options } }
  }

  // Check for composite key with specialization (e.g., 'nauka:Fizyka' or 'nauka:Biologia,Botanika,Zoologia')
  const colonIdx = sid.indexOf(':')
  if (colonIdx > 0) {
    const baseId = sid.substring(0, colonIdx)
    const specPart = sid.substring(colonIdx + 1)
    const specs = specPart.split(',')
    if (specs.length === 1) {
      return { type: 'specialized', id: baseId, locked: specs[0], options: null }
    }
    return { type: 'specialized', id: baseId, locked: null, options: specs }
  }

  // Check if skill has specializations defined
  const skill = getSkillById(sid)
  if (skill?.specializations && skill.specializations.length > 0) {
    return { type: 'specialized', id: sid, locked: null, options: null }
  }

  return { type: 'fixed', id: sid }
}

/** Check if a skill slot marker represents a special (non-fixed) slot. */
export function isSpecialSlot(sid: string): boolean {
  if (sid === 'any' || sid === 'any_academic' || sid.startsWith('choice:')) return true
  // Specialized skills with open choice are also "special" (need player input)
  const parsed = parseSkillSlot(sid)
  return parsed.type === 'specialized' && parsed.locked === null
}
